<!-- HTML generated using hilite.me --><div>
    <pre style="margin: 0; line-height: 125%"><span style="color: #008000">// NOTE: Each of the buttons scale up and down using the same element_PointerEntered/Exited events as the prior samples.</span>

<span style="color: #0000ff">private</span> <span style="color: #0000ff">void</span> StackedButtonsExample_Loaded(<span style="color: #2b91af">object</span> sender, RoutedEventArgs e)
{
    <span style="color: #008000">// Animate the translation of each button relative to the scale and translation of the button above.</span>
    <span style="color: #2b91af">var</span> anim = _compositor.CreateExpressionAnimation();
    anim.Expression = <span style="color: #a31515">&quot;(above.Scale.Y - 1) * 50 + above.Translation.Y % (50 * index)&quot;</span>;
    anim.Target = <span style="color: #a31515">&quot;Translation.Y&quot;</span>;

    <span style="color: #008000">// Animate the second button relative to the first.</span>
    anim.SetExpressionReferenceParameter(<span style="color: #a31515">&quot;above&quot;</span>, ExpressionButton1);
    anim.SetScalarParameter(<span style="color: #a31515">&quot;index&quot;</span>, 1);
    ExpressionButton2.StartAnimation(anim);

    <span style="color: #008000">// Animate the third button relative to the second.</span>
    anim.SetExpressionReferenceParameter(<span style="color: #a31515">&quot;above&quot;</span>, ExpressionButton2);
    anim.SetScalarParameter(<span style="color: #a31515">&quot;index&quot;</span>, 2);
    ExpressionButton3.StartAnimation(anim);

    <span style="color: #008000">// Animate the fourth button relative to the third.</span>
    anim.SetExpressionReferenceParameter(<span style="color: #a31515">&quot;above&quot;</span>, ExpressionButton3);
    anim.SetScalarParameter(<span style="color: #a31515">&quot;index&quot;</span>, 3);
    ExpressionButton4.StartAnimation(anim);
}
</pre>
</div>

